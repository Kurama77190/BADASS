FROM frrouting/frr:latest

# Install necessary packages for debugging and networking
RUN apk add --no-cache iproute2 iputils bash nano && ln -sf /sbin/ip /bin/ip

# Enable necessary FRR daemons
RUN touch /etc/frr/vtysh.conf && \
    sed -i /etc/frr/daemons -e 's/bgpd=no/bgpd=yes/' && \
    sed -i /etc/frr/daemons -e 's/ospfd=no/ospfd=yes/' && \
    sed -i /etc/frr/daemons -e 's/isisd=no/isisd=yes/'
